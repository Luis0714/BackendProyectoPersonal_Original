Ù'
[C:\Users\Asus\source\repos\BackendProyectoPersonal\Persistence\Configurations\UserConfig.cs
	namespace 	
Persistence
 
. 
Configurations $
{ 
public 

class 

UserConfig 
: $
IEntityTypeConfiguration 6
<6 7
User7 ;
>; <
{ 
public		 
void		 
	Configure		 
(		 
EntityTypeBuilder		 /
<		/ 0
User		0 4
>		4 5
builder		6 =
)		= >
{

 	
builder 
. 
ToTable 
( 
$str #
)# $
;$ %
builder 
. 
HasKey 
( 
property #
=>$ &
property' /
./ 0
UserId0 6
)6 7
;7 8
builder 
. 
Property 
( 
property %
=>& (
property) 1
.1 2
Name2 6
)6 7
.1 2
HasMaxLength2 >
(> ?
$num? B
)B C
.1 2

IsRequired2 <
(< =
)= >
;> ?
builder 
. 
Property 
( 
property %
=>& (
property) 1
.1 2
Image2 7
)7 8
.1 2

IsRequired2 <
(< =
)= >
;> ?
builder 
. 
Property 
( 
property %
=>& (
property) 1
.1 2
LastName2 :
): ;
.1 2
HasMaxLength2 >
(> ?
$num? B
)B C
.1 2

IsRequired2 <
(< =
)= >
;> ?
builder 
. 
Property 
( 
property %
=>& (
property) 1
.1 2
SecondLastName2 @
)@ A
.1 2
HasMaxLength2 >
(> ?
$num? B
)B C
;C D
builder 
. 
Property 
( 
property %
=>& (
property) 1
.1 2
DateOfBirth2 =
)= >
.1 2

IsRequired2 <
(< =
)= >
;> ?
builder 
. 
Property 
( 
property %
=>& (
property) 1
.1 2
numberPhone2 =
)= >
.1 2
HasMaxLength2 >
(> ?
$num? A
)A B
.1 2

IsRequired2 <
(< =
)= >
;> ?
builder 
. 
Property 
( 
property %
=>& (
property) 1
.1 2
Email2 7
)7 8
.0 1
HasMaxLength1 =
(= >
$num> A
)A B
.0 1

IsRequired1 ;
(; <
)< =
;0 1
builder   
.   
Property   
(   
property   %
=>  & (
property  ) 1
.  1 2
Address  2 9
)  9 :
;  : ;
builder!! 
.!! 
Property!! 
(!! 
property!! %
=>!!& (
property!!) 1
.!!1 2
RolId!!2 7
)!!7 8
.""0 1

IsRequired""1 ;
(""; <
)""< =
;""= >
builder## 
.## 
Property## 
(## 
property## %
=>##& (
property##) 1
.##1 2
DocumentTypeId##2 @
)##@ A
.$$0 1

IsRequired$$1 ;
($$; <
)$$< =
;$$= >
builder%% 
.%% 
Property%% 
(%% 
property%% %
=>%%& (
property%%) 1
.%%1 2
Document%%2 :
)%%: ;
.&&0 1

IsRequired&&1 ;
(&&; <
)&&< =
;&&= >
builder'' 
.'' 
Property'' 
('' 
property'' %
=>''& (
property'') 1
.''1 2
Password''2 :
)'': ;
.((0 1

IsRequired((1 ;
(((; <
)((< =
;((= >
builder)) 
.)) 
Property)) 
()) 
property)) %
=>))& (
property))) 1
.))1 2
Edad))2 6
)))6 7
;))7 8
builder** 
.** 
Property** 
(** 
property** %
=>**& (
property**) 1
.**1 2
	CreatedBy**2 ;
)**; <
;**< =
builder++ 
.++ 
Property++ 
(++ 
property++ %
=>++& (
property++) 1
.++1 2
LastModifiedBy++2 @
)++@ A
;++A B
}.. 	
}// 
}00 ü
_C:\Users\Asus\source\repos\BackendProyectoPersonal\Persistence\Contexts\ApplicationDBContext.cs
	namespace 	
Persistence
 
. 
Contexts 
{ 
public		 

class		  
ApplicationDBContext		 %
:		& '
	DbContext		( 1
{

 
private 
readonly 
IDateTimeService )
_dateTimeService* :
;: ;
public  
ApplicationDBContext #
(# $
DbContextOptions$ 4
<4 5 
ApplicationDBContext5 I
>I J
optionsK R
,R S
IDateTimeServiceT d
dateTimeServicee t
)t u
:v w
basex |
(| }
options	} „
)
„ …
{ 	
ChangeTracker 
. !
QueryTrackingBehavior /
=0 1!
QueryTrackingBehavior2 G
.G H

NoTrackingH R
;R S
_dateTimeService 
= 
dateTimeService .
;. /
} 	
public 
DbSet 
< 
User 
> 
Users  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
override 
Task 
< 
int  
>  !
SaveChangesAsync" 2
(2 3
CancellationToken3 D
cancellationTokenE V
=W X
newY \
CancellationToken] n
(n o
)o p
)p q
{ 	
foreach 
( 
var 
entry 
in !
ChangeTracker" /
./ 0
Entries0 7
<7 8
AuditableBaseEntity8 K
>K L
(L M
)M N
)N O
{ 
switch 
( 
entry 
. 
State "
)" #
{ 
case 
EntityState $
.$ %
Added% *
:* +
entry 
. 
Entity $
.$ %
Created% ,
=- .
_dateTimeService/ ?
.? @
NowUtc@ F
;F G
break 
; 
case 
EntityState $
.$ %
Modified% -
:- .
entry 
. 
Entity $
.$ %
LastModified% 1
=2 3
_dateTimeService4 D
.D E
NowUtcE K
;K L
break 
; 
} 
}   
return!! 
base!! 
.!! 
SaveChangesAsync!! (
(!!( )
cancellationToken!!) :
)!!: ;
;!!; <
}"" 	
	protected$$ 
override$$ 
void$$ 
OnModelCreating$$  /
($$/ 0
ModelBuilder$$0 <
modelBuilder$$= I
)$$I J
{%% 	
modelBuilder&& 
.&& +
ApplyConfigurationsFromAssembly&& 8
(&&8 9
Assembly&&9 A
.&&A B 
GetExecutingAssembly&&B V
(&&V W
)&&W X
)&&X Y
;&&Y Z
}'' 	
}(( 
})) ²=
cC:\Users\Asus\source\repos\BackendProyectoPersonal\Persistence\Migrations\20230529165947_tercera.cs
	namespace 	
Persistence
 
. 

Migrations  
{ 
public		 

partial		 
class		 
tercera		  
:		! "
	Migration		# ,
{

 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str 
, 
columns 
: 
table 
=> !
new" %
{ 
UserId 
= 
table "
." #
Column# )
<) *
int* -
>- .
(. /
type/ 3
:3 4
$str5 :
,: ;
nullable< D
:D E
falseF K
)K L
. 

Annotation #
(# $
$str$ 8
,8 9
$str: @
)@ A
,A B
Name 
= 
table  
.  !
Column! '
<' (
string( .
>. /
(/ 0
type0 4
:4 5
$str6 E
,E F
	maxLengthG P
:P Q
$numR U
,U V
nullableW _
:_ `
falsea f
)f g
,g h
Image 
= 
table !
.! "
Column" (
<( )
string) /
>/ 0
(0 1
type1 5
:5 6
$str7 F
,F G
nullableH P
:P Q
falseR W
)W X
,X Y
LastName 
= 
table $
.$ %
Column% +
<+ ,
string, 2
>2 3
(3 4
type4 8
:8 9
$str: I
,I J
	maxLengthK T
:T U
$numV Y
,Y Z
nullable[ c
:c d
falsee j
)j k
,k l
SecondLastName "
=# $
table% *
.* +
Column+ 1
<1 2
string2 8
>8 9
(9 :
type: >
:> ?
$str@ O
,O P
	maxLengthQ Z
:Z [
$num\ _
,_ `
nullablea i
:i j
truek o
)o p
,p q
DateOfBirth 
=  !
table" '
.' (
Column( .
<. /
DateTime/ 7
>7 8
(8 9
type9 =
:= >
$str? J
,J K
nullableL T
:T U
falseV [
)[ \
,\ ]
numberPhone 
=  !
table" '
.' (
Column( .
<. /
string/ 5
>5 6
(6 7
type7 ;
:; <
$str= K
,K L
	maxLengthM V
:V W
$numX Z
,Z [
nullable\ d
:d e
falsef k
)k l
,l m
Document 
= 
table $
.$ %
Column% +
<+ ,
string, 2
>2 3
(3 4
type4 8
:8 9
$str: I
,I J
nullableK S
:S T
falseU Z
)Z [
,[ \
Email 
= 
table !
.! "
Column" (
<( )
string) /
>/ 0
(0 1
type1 5
:5 6
$str7 F
,F G
	maxLengthH Q
:Q R
$numS V
,V W
nullableX `
:` a
falseb g
)g h
,h i
Password 
= 
table $
.$ %
Column% +
<+ ,
string, 2
>2 3
(3 4
type4 8
:8 9
$str: I
,I J
nullableK S
:S T
falseU Z
)Z [
,[ \
DocumentTypeId "
=# $
table% *
.* +
Column+ 1
<1 2
int2 5
>5 6
(6 7
type7 ;
:; <
$str= B
,B C
nullableD L
:L M
falseN S
)S T
,T U
Address 
= 
table #
.# $
Column$ *
<* +
string+ 1
>1 2
(2 3
type3 7
:7 8
$str9 H
,H I
nullableJ R
:R S
falseT Y
)Y Z
,Z [
RolId 
= 
table !
.! "
Column" (
<( )
int) ,
>, -
(- .
type. 2
:2 3
$str4 9
,9 :
nullable; C
:C D
falseE J
)J K
,K L
Edad   
=   
table    
.    !
Column  ! '
<  ' (
int  ( +
>  + ,
(  , -
type  - 1
:  1 2
$str  3 8
,  8 9
nullable  : B
:  B C
false  D I
)  I J
,  J K
Id!! 
=!! 
table!! 
.!! 
Column!! %
<!!% &
int!!& )
>!!) *
(!!* +
type!!+ /
:!!/ 0
$str!!1 6
,!!6 7
nullable!!8 @
:!!@ A
false!!B G
)!!G H
,!!H I
	CreatedBy"" 
="" 
table""  %
.""% &
Column""& ,
<"", -
int""- 0
>""0 1
(""1 2
type""2 6
:""6 7
$str""8 =
,""= >
nullable""? G
:""G H
false""I N
)""N O
,""O P
Created## 
=## 
table## #
.### $
Column##$ *
<##* +
DateTime##+ 3
>##3 4
(##4 5
type##5 9
:##9 :
$str##; F
,##F G
nullable##H P
:##P Q
false##R W
)##W X
,##X Y
LastModifiedBy$$ "
=$$# $
table$$% *
.$$* +
Column$$+ 1
<$$1 2
int$$2 5
>$$5 6
($$6 7
type$$7 ;
:$$; <
$str$$= B
,$$B C
nullable$$D L
:$$L M
false$$N S
)$$S T
,$$T U
LastModified%%  
=%%! "
table%%# (
.%%( )
Column%%) /
<%%/ 0
DateTime%%0 8
>%%8 9
(%%9 :
type%%: >
:%%> ?
$str%%@ K
,%%K L
nullable%%M U
:%%U V
true%%W [
)%%[ \
}&& 
,&& 
constraints'' 
:'' 
table'' "
=>''# %
{(( 
table)) 
.)) 

PrimaryKey)) $
())$ %
$str))% /
,))/ 0
x))1 2
=>))3 5
x))6 7
.))7 8
UserId))8 >
)))> ?
;))? @
}** 
)** 
;** 
}++ 	
	protected.. 
override.. 
void.. 
Down..  $
(..$ %
MigrationBuilder..% 5
migrationBuilder..6 F
)..F G
{// 	
migrationBuilder00 
.00 
	DropTable00 &
(00& '
name11 
:11 
$str11 
)11 
;11 
}22 	
}33 
}44 õ
kC:\Users\Asus\source\repos\BackendProyectoPersonal\Persistence\Migrations\20230529172324_secundMigration.cs
	namespace 	
Persistence
 
. 

Migrations  
{ 
public 

partial 
class 
secundMigration (
:) *
	Migration+ 4
{		 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
AlterColumn (
<( )
string) /
>/ 0
(0 1
name 
: 
$str #
,# $
table 
: 
$str 
, 
type 
: 
$str $
,$ %
	maxLength 
: 
$num 
, 
nullable 
: 
false 
,  

oldClrType 
: 
typeof "
(" #
string# )
)) *
,* +
oldType 
: 
$str '
,' (
oldMaxLength 
: 
$num  
)  !
;! "
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder 
. 
AlterColumn (
<( )
string) /
>/ 0
(0 1
name 
: 
$str #
,# $
table 
: 
$str 
, 
type 
: 
$str $
,$ %
	maxLength 
: 
$num 
, 
nullable   
:   
false   
,    

oldClrType!! 
:!! 
typeof!! "
(!!" #
string!!# )
)!!) *
,!!* +
oldType"" 
:"" 
$str"" '
,""' (
oldMaxLength## 
:## 
$num##  
)##  !
;##! "
}$$ 	
}%% 
}&& Ô
^C:\Users\Asus\source\repos\BackendProyectoPersonal\Persistence\Repository\MyRepositoryAsync.cs
	namespace 	
Persistence
 
. 

Repository  
{ 
public 

class 
MyRepositoryAsync "
<" #
T# $
>$ %
:& '
RepositoryBase( 6
<6 7
T7 8
>8 9
,9 :
IRepositoryAsync; K
<K L
TL M
>M N
whereO T
TU V
:W X
classY ^
{ 
public		 
MyRepositoryAsync		  
(		  ! 
ApplicationDBContext		! 5
	dbcontext		6 ?
)		? @
:		A B
base		C G
(		G H
	dbcontext		H Q
)		Q R
{

 	
} 	
} 
} ê
RC:\Users\Asus\source\repos\BackendProyectoPersonal\Persistence\ServiceExtension.cs
	namespace 	
Persistence
 
{		 
public

 

static

 
class

 
ServiceExtension

 (
{ 
public 
static 
void )
AddPersistenseInfraestructure 8
(8 9
this9 =
IServiceCollection> P
servicesQ Y
,Y Z
IConfiguration[ i
configurationj w
)w x
{ 	
services 
. 
AddDbContext !
<! " 
ApplicationDBContext" 6
>6 7
(7 8
options8 ?
=>@ B
optionsC J
.J K
UseSqlServerK W
(W X
configuration 
. 
GetConnectionString 1
(1 2
$str2 E
)E F
,F G
b 
=> 
b 
. 
MigrationsAssembly )
() *
typeof* 0
(0 1 
ApplicationDBContext1 E
)E F
.F G
AssemblyG O
.O P
FullNameP X
)X Y
) 
) 
; 
services 
. 
AddTransient !
(! "
typeof" (
(( )
IRepositoryAsync) 9
<9 :
>: ;
); <
,< =
typeof> D
(D E
MyRepositoryAsyncE V
<V W
>W X
)X Y
)Y Z
;Z [
} 	
} 
} 